<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Szukaj.pl</title>
<style>
body{
  margin:0;font-family:sans-serif;background:#f5f5f5;color:#111;
  display:flex;flex-direction:column;align-items:center;padding:20px;
  transition:all .3s;
}
header{
  font-size:3rem;font-weight:800;margin-bottom:20px;cursor:pointer;
  transition: transform .3s;
}
header:hover{transform:scale(1.05);}
#theme-toggle{
  position:absolute;top:20px;right:20px;padding:6px 12px;cursor:pointer;
  border:none;border-radius:6px;background:#eee;transition:all .3s;
}
#theme-toggle:hover{background:#ccc;}
form{
  display:flex;width:100%;max-width:600px;margin-bottom:20px;position:relative;
}
input[type=text]{
  flex:1;padding:12px;font-size:16px;border-radius:50px 0 0 50px;
  border:none;outline:none;transition:all .3s;
}
input[type=text]:focus{box-shadow:0 0 8px #00ffff;}
button.submit-btn{
  padding:12px 20px;font-size:16px;border:none;border-radius:0 50px 50px 0;
  cursor:pointer;background:linear-gradient(90deg,#00ffff,#ff00ff);
  color:black;font-weight:700;transition:all .3s;
}
button.submit-btn:hover{transform:scale(1.05);}
#results{
  width:100%;max-width:700px;display:grid;gap:12px;
}
.card{
  background:white;color:#111;padding:12px;margin:10px 0;border-radius:12px;
  opacity:0;transform:translateY(20px);
  animation:rise 0.5s forwards;
  transition:all .3s;
}
.card a{color:#1a0dab;font-weight:bold;text-decoration:none;}
.card a:hover{text-decoration:underline;color:#ff0080;}
.card p{margin:6px 0 0;font-size:14px;}
.card:hover{transform:scale(1.02);box-shadow:0 8px 20px rgba(0,0,0,.2);}
@keyframes rise{to{opacity:1;transform:translateY(0);}}
body[data-theme='dark']{
  background:#121212;color:white;
}
body[data-theme='dark'] .card{
  background:#171721;color:white;
}
body[data-theme='dark'] button{color:white;}
.autocomplete-list{
  position:absolute;top:100%;left:0;width:100%;background:#fff;color:#000;
  max-height:200px;overflow-y:auto;border-radius:0 0 12px 12px;z-index:100;
  box-shadow:0 10px 20px rgba(0,0,0,.2);
  animation:fadein .3s;
}
.autocomplete-item{
  padding:8px 12px;cursor:pointer;transition:background .2s;
}
.autocomplete-item:hover{background:#f0f0f0;}
@keyframes fadein{from{opacity:0;}to{opacity:1;}}
</style>
</head>
<body data-theme="light">
<header onclick="location.reload()">Szukaj.pl</header>
<button id="theme-toggle">üåô</button>
<form id="searchForm" autocomplete="off">
<input type="text" id="query" placeholder="Wpisz zapytanie...">
<button type="submit" class="submit-btn">üîç Szukaj</button>
<div id="autocomplete" class="autocomplete-list"></div>
</form>
<div id="results"></div>
<footer>Wyniki pochodzƒÖ z Google Custom Search</footer>

<script>
const form=document.getElementById('searchForm');
const input=document.getElementById('query');
const resultsDiv=document.getElementById('results');
const themeToggleBtn=document.getElementById('theme-toggle');
const autoEl=document.getElementById('autocomplete');

themeToggleBtn.addEventListener('click',()=>{
  const theme=document.body.getAttribute('data-theme');
  const newTheme=theme==='dark'?'light':'dark';
  document.body.setAttribute('data-theme',newTheme);
  themeToggleBtn.textContent=newTheme==='dark'?'üåô':'‚òÄÔ∏è';
});

// Autouzupe≈Çnianie - propozycje zapyta≈Ñ
input.addEventListener('input',()=>{
  const val=input.value.trim();
  autoEl.innerHTML='';
  if(!val) return;
  fetch(`https://ac.duckduckgo.com/ac/?q=${encodeURIComponent(val)}&type=list`)
    .then(r=>r.json())
    .then(data=>{
      data.forEach(item=>{
        const div=document.createElement('div');
        div.className='autocomplete-item';
        div.textContent=item.phrase;
        div.addEventListener('click',()=>{
          input.value=item.phrase;
          autoEl.innerHTML='';
        });
        autoEl.appendChild(div);
      });
    });
});

form.addEventListener('submit',async e=>{
  e.preventDefault();
  const query=input.value.trim();
  if(!query) return;
  resultsDiv.innerHTML='≈Åadowanie wynik√≥w...';
  try{
    const res=await fetch('https://szukal-pl-1.onrender.com',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({q:query})
    });
    const data=await res.json();
    displayResults(data);
  }catch(err){
    resultsDiv.innerHTML='B≈ÇƒÖd pobierania wynik√≥w.';
  }
});

function displayResults(data){
  resultsDiv.innerHTML='';
  if(data.items && data.items.length){
    data.items.forEach(item=>{
      const div=document.createElement('div');
      div.className='card';
      div.innerHTML=`<a href="${item.link}" target="_blank">${item.title}</a><p>${item.snippet}</p>`;
      resultsDiv.appendChild(div);
    });
  } else {
    resultsDiv.innerHTML=`<div class="card">Brak wynik√≥w dla "${input.value}"</div>`;
  }
}
</script>
</body>
</html>



































